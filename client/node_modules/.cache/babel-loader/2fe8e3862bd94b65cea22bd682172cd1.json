{"ast":null,"code":"var _jsxFileName = \"/Users/mariakristiina/Desktop/ironhack.bootcamp/final-project/finalproject/client/src/components/Post/PostDetail.js\";\n\n/*import React, {Component} from \"react\";\nimport Message from \"./Messages\"\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\";\nimport \"./PostCss/postDetail.css\"\n\n\nconst PostDetail = props => {\n\n  //TODO: fetch user and post data in this component\n  \n  let post = props.postDetail.find( (p) => p._id === props.match.params.id )\n  return (\n    <div>\n      <div key={post._id}>\n        <p>{post.title}</p>\n        <p>{post.description}</p>\n        <p>{post.date}</p>\n        <p>{post.startTime}</p>\n        <p>{post.endTime}</p>\n        <p>{post.postType}</p>\n        <p>{post.category}</p>\n      </div>\n\n      <Message subject={post._id} recipient={post.owner} owner={props.user} />\n\n          {this.state.match ?\n            <div>\n              <h2>You are registered</h2>\n              <form onSubmit={this.handleSubmitDeRegister}>\n          <button type=\"submit\">De-Register</button>\n          </form> \n            </div> :\n          <form onSubmit={this.handleSubmit}>\n          <button type=\"submit\">Register</button>\n          </form>  }\n          <div className=\"posterContainer\">\n          <p>{this.state.owner.username}</p>\n          <p>{this.state.owner.gender}</p>\n            <p>{this.state.owner.about}</p>\n          </div>\n      \n\n    </div>\n  )\n}\n\n\n//get data from app\n//state: title + content of messages \n//to write messages\n\n\nexport default PostDetail;\n*/\nimport React, { Component } from \"react\";\nimport Message from \"./Messages\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./PostCss/postDetail.css\";\n\nclass PostDetail extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      post: \"\",\n      title: \"\",\n      date: \"\",\n      startTime: \"\",\n      endTime: \"\",\n      postType: \"\",\n      category: \"\",\n      description: \"\",\n      owner: \"\",\n      match: \"\",\n      messages: \"\"\n    };\n\n    this.getDataPostDetail = () => {\n      const id = this.props.match.params.id;\n      console.log(id);\n      axios.get(\"/post/\".concat(id)).then(response => {\n        console.log(response.data);\n        this.setState({\n          post: response.data,\n          title: response.data.title,\n          date: response.data.date,\n          startTime: response.data.startTime,\n          endTime: response.data.endTime,\n          postType: response.data.postType,\n          category: response.data.category,\n          description: response.data.description,\n          owner: response.data.owner,\n          match: response.data.match,\n          messages: response.data.messages\n        });\n        console.log(this.state.post);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(\"submit\");\n      const userId = this.props.user._id;\n      const postId = this.props.match.params.id;\n      console.log(userId);\n      console.log(postId);\n      axios.put(\"/post/register/\".concat(postId), {\n        match: this.state.match\n      }).then(post => {\n        this.setState({\n          match: userId\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSubmitDeRegister = event => {\n      event.preventDefault();\n      console.log(\"submit\");\n      const userId = this.props.user._id;\n      const postId = this.props.match.params.id;\n      console.log(userId);\n      console.log(postId);\n      axios.put(\"/post/deregister/\".concat(postId), {\n        match: this.state.match\n      }).then(post => {\n        this.setState({\n          match: \"\"\n        });\n        console.log(this.state);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getDataPostDetail();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"postContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, this.state.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, this.state.postType), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, this.state.category), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, this.state.date), React.createElement(\"div\", {\n      className: \"times\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"from: \", this.state.startTime, \"to: \"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \" \", this.state.endTime)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, this.state.description)), props, this.state.match ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"You are registered\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmitDeRegister,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"De-Register\"))) : React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Register\")), React.createElement(\"div\", {\n      className: \"posterContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, this.state.owner.username), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, this.state.owner.gender), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, this.state.owner.about)), React.createElement(Message, {\n      subject: this.state.post._id,\n      recipient: this.state.post.owner,\n      owner: this.props.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }));\n  }\n\n} //get data from app\n//state: title + content of messages \n//to write messages\n\n\nexport default PostDetail;","map":{"version":3,"sources":["/Users/mariakristiina/Desktop/ironhack.bootcamp/final-project/finalproject/client/src/components/Post/PostDetail.js"],"names":["React","Component","Message","Link","axios","PostDetail","state","post","title","date","startTime","endTime","postType","category","description","owner","match","messages","getDataPostDetail","id","props","params","console","log","get","then","response","data","setState","catch","err","handleSubmit","event","preventDefault","userId","user","_id","postId","put","handleSubmitDeRegister","componentDidMount","render","username","gender","about"],"mappings":"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","sourcesContent":["/*import React, {Component} from \"react\";\nimport Message from \"./Messages\"\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\";\nimport \"./PostCss/postDetail.css\"\n\n\nconst PostDetail = props => {\n\n  //TODO: fetch user and post data in this component\n  \n  let post = props.postDetail.find( (p) => p._id === props.match.params.id )\n  return (\n    <div>\n      <div key={post._id}>\n        <p>{post.title}</p>\n        <p>{post.description}</p>\n        <p>{post.date}</p>\n        <p>{post.startTime}</p>\n        <p>{post.endTime}</p>\n        <p>{post.postType}</p>\n        <p>{post.category}</p>\n      </div>\n\n      <Message subject={post._id} recipient={post.owner} owner={props.user} />\n\n          {this.state.match ?\n            <div>\n              <h2>You are registered</h2>\n              <form onSubmit={this.handleSubmitDeRegister}>\n          <button type=\"submit\">De-Register</button>\n          </form> \n            </div> :\n          <form onSubmit={this.handleSubmit}>\n          <button type=\"submit\">Register</button>\n          </form>  }\n          <div className=\"posterContainer\">\n          <p>{this.state.owner.username}</p>\n          <p>{this.state.owner.gender}</p>\n            <p>{this.state.owner.about}</p>\n          </div>\n      \n\n    </div>\n  )\n}\n\n\n//get data from app\n//state: title + content of messages \n//to write messages\n\n\nexport default PostDetail;\n*/\n\n\nimport React, {Component} from \"react\";\nimport Message from \"./Messages\"\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\";\nimport \"./PostCss/postDetail.css\"\n\n\nclass PostDetail extends  React.Component {\n  state= {\n    post: \"\",\n    title: \"\",\n    date: \"\",\n    startTime: \"\",\n    endTime: \"\",\n    postType: \"\",\n    category: \"\",\n    description: \"\",\n    owner: \"\",\n    match: \"\",\n    messages: \"\",\n\n  }\n\ngetDataPostDetail = () => {\n  \n  const id = this.props.match.params.id;\n  console.log(id);\n\n   axios\n   .get(`/post/${id}`)\n   .then(response => {\n    console.log(response.data)\n  this.setState({\n    post: response.data,\n     title: response.data.title,\n     date: response.data.date,\n     startTime: response.data.startTime,\n     endTime: response.data.endTime,\n     postType: response.data.postType,\n     category: response.data.category,\n     description: response.data.description,\n     owner: response.data.owner,\n     match: response.data.match,\n     messages: response.data.messages, \n });\n console.log(this.state.post)\n   })\n   .catch(err => {\n     console.log(err);\n   })\n }\n\n handleSubmit = event => {\n   event.preventDefault()\n   console.log(\"submit\")\n   const userId = this.props.user._id\n   const postId = this.props.match.params.id;\n   console.log(userId)\n   console.log(postId)\n   axios\n   .put(`/post/register/${postId}`, {\n     match: this.state.match\n   })\n   .then(post => {\n     this.setState({\n       match: userId\n     })\n   })\n   .catch(err => {\n     console.log(err);\n   })\n }\n\n handleSubmitDeRegister = event => {\n  event.preventDefault()\n  console.log(\"submit\")\n  const userId = this.props.user._id\n  const postId = this.props.match.params.id;\n  console.log(userId)\n  console.log(postId)\n  axios\n  .put(`/post/deregister/${postId}`, {\n    match: this.state.match\n  })\n  .then(post => {\n    this.setState({\n      match: \"\"\n    })\n    console.log(this.state)\n  })\n  .catch(err => {\n    console.log(err);\n  })\n}\n\n componentDidMount() {\n   this.getDataPostDetail();\n }\n\n render() {\n  return (\n    <div>\n          <div className=\"postContainer\">\n            <h2>{this.state.title}</h2>\n            <p>{this.state.postType}</p>\n            <p>{this.state.category}</p>\n            \n            <p>{this.state.date}</p>\n            <div className=\"times\"> \n            <p>from: {this.state.startTime}to: </p>\n            <p> {this.state.endTime}</p>\n            </div>\n            <p>{this.state.description}</p>\n           \n          </div>\n\n{props}\n          {this.state.match ?\n            <div>\n              <h2>You are registered</h2>\n              <form onSubmit={this.handleSubmitDeRegister}>\n          <button type=\"submit\">De-Register</button>\n          </form> \n            </div> :\n          <form onSubmit={this.handleSubmit}>\n          <button type=\"submit\">Register</button>\n          </form>  }\n          <div className=\"posterContainer\">\n          <p>{this.state.owner.username}</p>\n          <p>{this.state.owner.gender}</p>\n            <p>{this.state.owner.about}</p>\n          </div>\n      \n<Message subject={this.state.post._id} recipient={this.state.post.owner} owner={this.props.user}/>\n    </div>\n\n  ) }\n}\n\n\n//get data from app\n//state: title + content of messages \n//to write messages\n\n\nexport default PostDetail;\n"]},"metadata":{},"sourceType":"module"}