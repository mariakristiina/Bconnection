{"ast":null,"code":"var _jsxFileName = \"/Users/mariakristiina/Desktop/ironhack.bootcamp/final-project/finalproject/client/src/components/Post/Posts.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport PostList from \"./PostList\";\nimport NewPost from \"./NewPost\";\n\nclass Posts extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: [],\n      search: \"\",\n      category: \"\",\n      owner: \"\"\n    };\n\n    this.getDataPosts = () => {\n      axios.get('/post').then(response => {\n        // console.log(response.data)\n        this.setState({\n          posts: response.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleChangeFilter = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getDataPosts();\n  } //=============================== filter functions\n\n\n  render() {\n    const filteredPosts = this.state.posts.filter(post => {\n      // console.log(\"match-id\", post.match._id)\n      return (!this.state.owner || (this.state.owner === \"owner\" && post.owner._id === this.props.user._id || this.state.owner === \"match\" && post.match && post.match._id === this.props.user._id) && (this.state.category === post.category || !this.state.category)) && (this.state.category === post.category || !this.state.category);\n    });\n    return React.createElement(\"div\", {\n      className: \"post-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"myposts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \" Filter my posts\"), React.createElement(\"select\", {\n      name: \"owner\",\n      id: \"owner\",\n      value: this.state.owner,\n      onChange: this.handleChangeFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"--\"), React.createElement(\"option\", {\n      value: \"owner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"My posts\"), React.createElement(\"option\", {\n      value: \"match\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Registered\")), React.createElement(\"label\", {\n      htmlFor: \"category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Filter by Category\"), React.createElement(\"select\", {\n      name: \"category\",\n      id: \"category\",\n      value: this.state.category,\n      onChange: this.handleChangeFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"--\"), React.createElement(\"option\", {\n      value: \"language lessons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Language lessons\"), React.createElement(\"option\", {\n      value: \"tutoring\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Tutoring\"), React.createElement(\"option\", {\n      value: \"government appointment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Government appointment\"), React.createElement(\"option\", {\n      value: \"doctor appointment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Doctor appointment\"), React.createElement(\"option\", {\n      value: \"meet people\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Meet people\"), React.createElement(\"option\", {\n      value: \"activities for kids\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Activities for kids\"), React.createElement(\"option\", {\n      value: \"activities for seniors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Activities for seniors\")), React.createElement(PostList, {\n      posts: filteredPosts,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(NewPost, {\n      refreshData: this.getDataPosts,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Posts;","map":{"version":3,"sources":["/Users/mariakristiina/Desktop/ironhack.bootcamp/final-project/finalproject/client/src/components/Post/Posts.js"],"names":["React","Component","axios","PostList","NewPost","Posts","state","posts","search","category","owner","getDataPosts","get","then","response","setState","data","catch","err","console","log","handleChangeFilter","event","target","name","value","componentDidMount","render","filteredPosts","filter","post","_id","props","user","match"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport PostList from \"./PostList\";\nimport NewPost from \"./NewPost\";\n\nclass Posts extends Component {\n  state = {\n    posts: [],\n    search: \"\",\n    category: \"\",\n    owner: \"\"\n  };\n\n  //============================ posts functions\n  getDataPosts = () => {\n    axios\n      .get('/post')\n      .then(response => {\n        // console.log(response.data)\n        this.setState({\n          posts: response.data\n        })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  componentDidMount() {\n    this.getDataPosts();\n  }\n\n  //=============================== filter functions\n\n\n  handleChangeFilter = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n\n\n  render() {\n\n    const filteredPosts = this.state.posts.filter(post => {\n      // console.log(\"match-id\", post.match._id)\n\n      return (\n\n        ((!this.state.owner) ||\n          ((this.state.owner === \"owner\" && post.owner._id === this.props.user._id) ||\n\n            (((this.state.owner === \"match\") && post.match) && post.match._id === this.props.user._id)) &&\n\n          (this.state.category === post.category || !this.state.category))\n\n        && (this.state.category === post.category || !this.state.category)\n\n      );\n    });\n\n    return (\n      <div className=\"post-container\" >\n\n        <label htmlFor=\"myposts\" > Filter my posts</label>\n        <select\n          name=\"owner\"\n          id=\"owner\"\n          value={this.state.owner}\n          onChange={this.handleChangeFilter}\n\n        >\n          <option value=\"\">--</option>\n          <option value=\"owner\">My posts</option>\n          <option value=\"match\">Registered</option>\n        </select>\n\n\n\n        <label htmlFor=\"category\">Filter by Category</label>\n        <select\n          name=\"category\"\n          id=\"category\"\n          value={this.state.category}\n          onChange={this.handleChangeFilter}\n        >\n          <option value=\"\">--</option>\n          <option value=\"language lessons\">Language lessons</option>\n          <option value=\"tutoring\">Tutoring</option>\n          <option value=\"government appointment\">Government appointment</option>\n          <option value=\"doctor appointment\">Doctor appointment</option>\n          <option value=\"meet people\">Meet people</option>\n          <option value=\"activities for kids\">Activities for kids</option>\n          <option value=\"activities for seniors\">Activities for seniors</option>\n        </select>\n\n\n        <PostList posts={filteredPosts} />\n\n        <NewPost\n          refreshData={this.getDataPosts}\n        />\n      </div>\n    )\n  }\n\n\n}\n\n\n\nexport default Posts;\n\n"]},"metadata":{},"sourceType":"module"}