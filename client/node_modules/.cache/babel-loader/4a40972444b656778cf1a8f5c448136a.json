{"ast":null,"code":"var _jsxFileName = \"/Users/mariakristiina/Desktop/ironhack.bootcamp/final-project/finalproject/client/src/components/Post/PostDetail.js\";\nimport React, { Component } from \"react\";\nimport Message from \"./Messages\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./PostCss/postDetail.css\";\n\nclass PostDetail extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      post: \"\",\n      title: \"\",\n      date: \"\",\n      startTime: \"\",\n      endTime: \"\",\n      postType: \"\",\n      category: \"\",\n      description: \"\",\n      owner: \"\",\n      match: \"\",\n      messages: \"\"\n    };\n\n    this.getDataPostDetail = () => {\n      const id = this.props.match.params.id;\n      console.log(id);\n      axios.get(\"/post/\".concat(id)).then(response => {\n        console.log(response.data);\n        this.setState({\n          post: response.data,\n          title: response.data.title,\n          date: response.data.date,\n          startTime: response.data.startTime,\n          endTime: response.data.endTime,\n          postType: response.data.postType,\n          category: response.data.category,\n          description: response.data.description,\n          owner: response.data.owner,\n          match: response.data.match,\n          messages: response.data.messages\n        });\n        console.log(this.state.post);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(\"submit\");\n      const userId = this.props.user._id;\n      const postId = this.props.match.params.id;\n      console.log(userId);\n      console.log(postId);\n      axios.put(\"/post/register/\".concat(postId), {\n        match: this.state.match\n      }).then(post => {\n        this.setState({\n          match: userId\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSubmitDeRegister = event => {\n      event.preventDefault();\n      console.log(\"submit\");\n      const userId = this.props.user._id;\n      const postId = this.props.match.params.id;\n      console.log(userId);\n      console.log(postId);\n      axios.put(\"/post/deregister/\".concat(postId), {\n        match: this.state.match\n      }).then(post => {\n        this.setState({\n          match: \"\"\n        });\n        console.log(this.state);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getDataPostDetail();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"postContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.state.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.state.description), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.state.date), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.state.startTime), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.endTime), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.state.postType), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.state.category)), this.state.match ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"You are registered\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmitDeRegister,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"De-Register\"))) : React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Register\")), React.createElement(\"div\", {\n      className: \"posterContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, this.state.owner.username), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, this.state.owner.about)), React.createElement(Message, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }));\n  }\n\n} //get data from app\n//state: title + content of messages \n//to write messages\n\n\nexport default PostDetail;","map":{"version":3,"sources":["/Users/mariakristiina/Desktop/ironhack.bootcamp/final-project/finalproject/client/src/components/Post/PostDetail.js"],"names":["React","Component","Message","Link","axios","PostDetail","state","post","title","date","startTime","endTime","postType","category","description","owner","match","messages","getDataPostDetail","id","props","params","console","log","get","then","response","data","setState","catch","err","handleSubmit","event","preventDefault","userId","user","_id","postId","put","handleSubmitDeRegister","componentDidMount","render","username","about"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Message from \"./Messages\"\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\";\nimport \"./PostCss/postDetail.css\"\n\n\nclass PostDetail extends  React.Component {\n  state= {\n    post: \"\",\n    title: \"\",\n    date: \"\",\n    startTime: \"\",\n    endTime: \"\",\n    postType: \"\",\n    category: \"\",\n    description: \"\",\n    owner: \"\",\n    match: \"\",\n    messages: \"\",\n\n  }\n\ngetDataPostDetail = () => {\n  \n  const id = this.props.match.params.id;\n  console.log(id);\n\n   axios\n   .get(`/post/${id}`)\n   .then(response => {\n    console.log(response.data)\n  this.setState({\n    post: response.data,\n     title: response.data.title,\n     date: response.data.date,\n     startTime: response.data.startTime,\n     endTime: response.data.endTime,\n     postType: response.data.postType,\n     category: response.data.category,\n     description: response.data.description,\n     owner: response.data.owner,\n     match: response.data.match,\n     messages: response.data.messages, \n });\n console.log(this.state.post)\n   })\n   .catch(err => {\n     console.log(err);\n   })\n }\n\n handleSubmit = event => {\n   event.preventDefault()\n   console.log(\"submit\")\n   const userId = this.props.user._id\n   const postId = this.props.match.params.id;\n   console.log(userId)\n   console.log(postId)\n   axios\n   .put(`/post/register/${postId}`, {\n     match: this.state.match\n   })\n   .then(post => {\n     this.setState({\n       match: userId\n     })\n   })\n   .catch(err => {\n     console.log(err);\n   })\n }\n\n handleSubmitDeRegister = event => {\n  event.preventDefault()\n  console.log(\"submit\")\n  const userId = this.props.user._id\n  const postId = this.props.match.params.id;\n  console.log(userId)\n  console.log(postId)\n  axios\n  .put(`/post/deregister/${postId}`, {\n    match: this.state.match\n  })\n  .then(post => {\n    this.setState({\n      match: \"\"\n    })\n    console.log(this.state)\n  })\n  .catch(err => {\n    console.log(err);\n  })\n}\n\n componentDidMount() {\n   this.getDataPostDetail();\n }\n\n render() {\n  return (\n    <div>\n          <div className=\"postContainer\">\n            <h2>{this.state.title}</h2>\n           \n            <p>{this.state.description}</p>\n            <p>{this.state.date}</p>\n            <p>{this.state.startTime}</p>\n            <p>{this.state.endTime}</p>\n            <p>{this.state.postType}</p>\n            <p>{this.state.category}</p>\n          </div>\n\n          {this.state.match ?\n            <div>\n              <h2>You are registered</h2>\n              <form onSubmit={this.handleSubmitDeRegister}>\n          <button type=\"submit\">De-Register</button>\n          </form> \n            </div> :\n          <form onSubmit={this.handleSubmit}>\n          <button type=\"submit\">Register</button>\n          </form>  }\n          <div className=\"posterContainer\">\n          <p>{this.state.owner.username}</p>\n            <p>{this.state.owner.about}</p>\n          </div>\n      <Message />\n\n    </div>\n\n  ) }\n}\n\n\n//get data from app\n//state: title + content of messages \n//to write messages\n\n\nexport default PostDetail;"]},"metadata":{},"sourceType":"module"}