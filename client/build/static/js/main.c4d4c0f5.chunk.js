(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{48:function(e,t,a){e.exports=a(81)},54:function(e,t,a){},55:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),s=(a(53),a(54),a(12)),i=a(7),c=a(8),u=a(10),m=a(9),g=a(11),p=(a(55),a(6)),h=a(4),d=a.n(h),f=function(e,t,a,n){return d.a.post("/auth/signup",{username:e,password:t,age:a,siteLanguage:n}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},E=function(e,t){return d.a.post("/auth/login",{username:e,password:t}).then((function(e){return console.log(e.data.siteLanguage),e.data})).catch((function(e){return e.response.data}))};a.e(4).then(a.t.bind(null,86,7));var v=function(e){return r.a.createElement("div",{className:"navContainer"},r.a.createElement("div",{className:"left"},r.a.createElement(p.b,{className:"textName",to:"/"},r.a.createElement("img",{className:"logo",src:"/connection.svg"}),"NAME")),r.a.createElement("div",{className:"right"},r.a.createElement("div",null,r.a.createElement(p.b,{className:"text",to:"/about"},"About"),e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{className:"text",to:"/profile/".concat(e.user._id)},"Profile"),r.a.createElement(p.b,{className:"text",to:"/posts"},"Posts"),r.a.createElement(p.b,{className:"text",to:"/mailbox/".concat(e.user._id)},"Mailbox"),r.a.createElement(p.b,{className:"text",to:"/",onClick:function(){d.a.delete("/auth/logout"),e.clearUser(null)}},"LOGOUT")):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{className:"text",to:"/signup"},"Signup"),r.a.createElement(p.b,{className:"text",to:"/login"},"Login"))),r.a.createElement("div",{className:"languages"},"English"===e.currentLanguage?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"underline",onClick:e.handleChangeLanguages,value:"English"},"English"),r.a.createElement("button",{onClick:e.handleChangeLanguages,value:"German"},"German")):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:e.handleChangeLanguages,value:"English"},"English"),r.a.createElement("button",{className:"underline",onClick:e.handleChangeLanguages,value:"German"},"German")))))},b=a(19),y=a(84),C=a(85);a.e(0).then(a.t.bind(null,87,7));var w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",age:"",error:""},a.handleChange=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),f(a.state.username,a.state.password,a.state.age,a.props.currentLanguage).then((function(e){e.message?a.setState({error:e.message}):(a.props.setUser(e),a.props.history.push("/profile"))}))},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create A New Account"),r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"username"},"Choose Your Username"),r.a.createElement(y.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"password"},"Choose Your Password"),r.a.createElement(y.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"age"},"Birthday"),r.a.createElement(y.a.Control,{type:"date",name:"age",id:"age",value:this.state.age,onChange:this.handleChange})),this.state.error&&r.a.createElement(C.a,{variant:"danger"},this.state.error),r.a.createElement("button",{className:"getInvolved",type:"submit"},"Sign up")))}}]),t}(n.Component),O=a(83),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),E(a.state.username,a.state.password).then((function(e){console.log(a.props),e.message?a.setState({error:e.message}):(a.props.setUser(e),console.log(a._isMounted),a.props.changeLanguageLogin(),a.props.history.push("/"),console.log(a.props.currentLanguage),console.log(a.props.user.siteLanguage))}))},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"username"},"Username"),r.a.createElement(y.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"password"},"Password:"),r.a.createElement(y.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(C.a,{variant:"danger"},this.state.error),r.a.createElement(O.a,{type:"submit"},"Log in")))}}]),t}(n.Component),P=function(e){return r.a.createElement("div",null,e.posts.map((function(e){return e.match?r.a.createElement("div",{key:e._id},r.a.createElement("h3",null,r.a.createElement(p.b,{to:"/post/".concat(e._id)},e.title)," - Matched"),r.a.createElement("p",null,"User: ",e.owner.username),r.a.createElement("p",null,"Type: ",e.postType),r.a.createElement("p",null,"Category: ",e.category),r.a.createElement("p",null,"Date: ",e.date)):r.a.createElement("div",{key:e._id},r.a.createElement("h3",null,r.a.createElement(p.b,{to:"/post/".concat(e._id)},e.title)),r.a.createElement("p",null,"User: ",e.owner.username),r.a.createElement("p",null,"Type: ",e.postType),r.a.createElement("p",null,"Category: ",e.category),r.a.createElement("p",null,"Date: ",e.date))})))},L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",date:"",startTime:"",endTime:"",postType:"",category:"",description:""},a.handleChangeNewPost=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.handleSubmitNewPost=function(e){e.preventDefault(),console.log(a.state),d.a.post("/post/new",{title:a.state.title,startTime:a.state.startTime,endTime:a.state.endTime,postType:a.state.postType,category:a.state.category,description:a.state.description}).then((function(e){a.props.refreshData(),a.setState({title:"",startTime:"",endTime:"",postType:"",category:"",description:""})})).catch((function(e){console.log(e)}))},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmitNewPost},r.a.createElement("label",{htmlFor:"title"},"Title: "),r.a.createElement("input",{type:"text",name:"title",id:"title",onChange:this.handleChangeNewPost,value:this.state.title}),r.a.createElement("label",{htmlFor:"date"},"Date: "),r.a.createElement("input",{type:"date",name:"date",id:"date",onChange:this.handleChangeNewPost,value:this.state.date}),r.a.createElement("label",{htmlFor:"startTime"},"Start Time: "),r.a.createElement("input",{type:"time",name:"startTime",id:"startTime",onChange:this.handleChangeNewPost,value:this.state.startTime}),r.a.createElement("label",{htmlFor:"endTime"},"End Time: "),r.a.createElement("input",{type:"time",name:"endTime",id:"endTime",onChange:this.handleChangeNewPost,value:this.state.endTime}),r.a.createElement("label",{htmlFor:"postType"},"Post Type: "),r.a.createElement("select",{onChange:this.handleChangeNewPost,name:"postType",id:"postType"},r.a.createElement("option",{value:"select"},"Select"),r.a.createElement("option",{value:"search"},"Search"),r.a.createElement("option",{value:"offer"},"Offer")),r.a.createElement("label",{htmlFor:"category"},"Category: "),r.a.createElement("select",{onChange:this.handleChangeNewPost,name:"category",id:"category"},r.a.createElement("option",{value:"select"},"Select"),r.a.createElement("option",{value:"language lessons"},"Language Lessons"),r.a.createElement("option",{value:"tutoring"},"Tutoring"),r.a.createElement("option",{value:"government appointment"},"Government Appointment"),r.a.createElement("option",{value:"doctor appointment"},"Doctor appointment"),r.a.createElement("option",{value:"meet people"},"Meet People"),r.a.createElement("option",{value:"activities for kids"},"Activities for Kids"),r.a.createElement("option",{value:"activities for seniors"},"Activities for Seniors")),r.a.createElement("label",{htmlFor:"description"},"Description: "),r.a.createElement("input",{type:"text",name:"description",id:"description",onChange:this.handleChangeNewPost,value:this.state.description}),r.a.createElement("button",{type:"submit"},"Create a new Post"))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],search:"",category:"",owner:"",addPost:!1},a.getDataPosts=function(){d.a.get("/post").then((function(e){a.setState({posts:e.data})})).catch((function(e){console.log(e)}))},a.handleChangeFilter=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.toggleEdit=function(){a.setState({addPost:!a.state.addPost})},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getDataPosts()}},{key:"render",value:function(){var e=this,t=this.state.posts.filter((function(t){return(!e.state.owner||("owner"===e.state.owner&&t.owner._id===e.props.user._id||"match"===e.state.owner&&t.match&&t.match._id===e.props.user._id)&&(e.state.category===t.category||!e.state.category))&&(e.state.category===t.category||!e.state.category)}));return r.a.createElement("div",{className:"post-container"},r.a.createElement("label",{htmlFor:"myposts"},"My posts"),r.a.createElement("select",{name:"owner",id:"owner",value:this.state.owner,onChange:this.handleChangeFilter},r.a.createElement("option",{value:""},"--"),r.a.createElement("option",{value:"owner"},"My posts"),r.a.createElement("option",{value:"match"},"Registered")),r.a.createElement("label",{htmlFor:"category"},"Filter by Category"),r.a.createElement("select",{name:"category",id:"category",value:this.state.category,onChange:this.handleChangeFilter},r.a.createElement("option",{value:""},"--"),r.a.createElement("option",{value:"language lessons"},"Language lessons"),r.a.createElement("option",{value:"tutoring"},"Tutoring"),r.a.createElement("option",{value:"government appointment"},"Government appointment"),r.a.createElement("option",{value:"doctor appointment"},"Doctor appointment"),r.a.createElement("option",{value:"meet people"},"Meet people"),r.a.createElement("option",{value:"activities for kids"},"Activities for kids"),r.a.createElement("option",{value:"activities for seniors"},"Activities for seniors")),r.a.createElement(P,{posts:t}),r.a.createElement(O.a,{onClick:this.toggleEdit},"Add a Post"),this.state.addPost&&r.a.createElement(L,{refreshData:this.getDataPosts}))}}]),t}(n.Component),D=function(e){return"English"===e.currentLanguage?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hello"),r.a.createElement("div",null,r.a.createElement("p",null,"We are a non-profit organisation that provides a platform and a space for locals in Berlin and recent refugees to help each other on non-profit basis, share skills and connect."))):"German"===e.currentLanguage?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hallo"),r.a.createElement("p",null,"Auf Deutch")):void 0},T=function(e){Object(n.useEffect)((function(){e.getDataProfile()}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Hey ",e.profile.username),r.a.createElement(O.a,{variant:"danger",onClick:function(){var t=e.user._id;d.a.delete("/profile/".concat(t)).then((function(t){e.history.push("/signup")})).catch((function(e){console.log(e)}))}},"Delete Account"),r.a.createElement("img",{src:e.profile.urlPath,alt:"profile"}),r.a.createElement("p",null,"Age:"," ",Math.floor((new Date-new Date(e.profile.age).getTime())/315576e5)),r.a.createElement("p",null,"Gender: ",e.profile.gender),r.a.createElement("p",null,"Languages: ",e.profile.languages),r.a.createElement("p",null,"About: ",e.profile.about),r.a.createElement(O.a,{onClick:e.toggleEditProfile},"Show Edit Form"),e.editProfileForm&&r.a.createElement(y.a,{onSubmit:e.handleSubmitProfile,encType:"multipart/form-data"},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"urlPath"},"Upload Profile Picture"),r.a.createElement(y.a.Control,{type:"file",name:"urlPath",id:"urlPath",onChange:e.imageUpload})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"username"},"username: "),r.a.createElement(y.a.Control,{type:"text",name:"username",id:"username",value:e.profile.username,onChange:e.handleChangeProfile})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"age"},"age: "),r.a.createElement(y.a.Control,{type:"date",name:"age",id:"age",value:e.profile.age,onChange:e.handleChangeProfile})),r.a.createElement("label",{htmlFor:"gender"},"Gender: "),r.a.createElement("select",{onChange:e.handleChangeProfile,name:"gender",id:"gender"},r.a.createElement("option",{value:"diverse"},"Divers"),r.a.createElement("option",{value:"female"},"Female"),r.a.createElement("option",{value:"male"},"Male")),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"languages"},"languages: "),r.a.createElement(y.a.Control,{type:"text",name:"languages",id:"languages",value:e.profile.languages,onChange:e.handleChangeProfile})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"about"},"about: "),r.a.createElement(y.a.Control,{type:"text",name:"about",id:"about",value:e.profile.about,onChange:e.handleChangeProfile})),r.a.createElement(O.a,{type:"submit"},"Save Profile")))};a.e(0).then(a.t.bind(null,87,7));var F=function(e){return"English"===e.currentLanguage?r.a.createElement("div",{className:"homeContainer"},r.a.createElement("img",{className:"coverImage",src:"/Cover.jpeg",alt:""}),r.a.createElement("div",{className:"textContainer"},r.a.createElement("h1",null,"Hello"),r.a.createElement("p",null,"We are a non-profit organisation that provides a platform and a space for locals in Berlin and recent refugees to help each other on non-profit basis, share skills and connect."),r.a.createElement(p.b,{className:"getInvolved",to:"/signup"},"Get involved"))):"German"===e.currentLanguage?r.a.createElement("div",null,r.a.createElement("h1",null,"Hallo"),r.a.createElement("p",null,"Auf Deutch"),r.a.createElement(p.b,{to:"/signup"},"Get involved")):void 0},k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",content:""},a.handleChange=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),d.a.post("/messages",{title:a.state.title,content:a.state.content,subject:a.props.subject,owner:a.props.owner,recipient:a.props.recipient}).then((function(e){console.log(e),a.props.history.push("/mailbox/".concat(a.props.owner._id))}))},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"myFunction",value:function(){alert("Message successfully sent!")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(y.a.Label,null,"Your Message"),r.a.createElement(y.a.Control,{as:"textarea",rows:"3",name:"content",onChange:this.handleChange})),r.a.createElement("button",{onClick:this.myFunction},"Send Message")))}}]),t}(n.Component),x=(a(80),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={post:"",title:"",date:"",startTime:"",endTime:"",postType:"",category:"",description:"",owner:"",match:"",messages:""},a.getDataPostDetail=function(){var e=a.props.match.params.id;console.log(e),d.a.get("/post/".concat(e)).then((function(e){console.log(e.data),a.setState({post:e.data,title:e.data.title,date:e.data.date,startTime:e.data.startTime,endTime:e.data.endTime,postType:e.data.postType,category:e.data.category,description:e.data.description,owner:e.data.owner,match:e.data.match,messages:e.data.messages}),console.log(a.state.post)})).catch((function(e){console.log(e)}))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.user._id,n=a.props.match.params.id;d.a.put("/post/register/".concat(n),{match:a.state.match}).then((function(e){a.setState({match:t})})).catch((function(e){console.log(e)}))},a.handleSubmitDeRegister=function(e){e.preventDefault();var t=a.props.match.params.id;d.a.put("/post/deregister/".concat(t),{match:a.state.match}).then((function(e){a.setState({match:""}),console.log(a.state)})).catch((function(e){console.log(e)}))},a.deletePost=function(){var e=a.state.post._id;d.a.delete("/post/".concat(e)).then((function(e){a.props.history.push("/posts")})).catch((function(e){console.log(e)}))},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getDataPostDetail()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"postContainer"},r.a.createElement("h2",null,this.state.title),r.a.createElement("p",null,this.state.postType),r.a.createElement("p",null,this.state.category),r.a.createElement("p",null,this.state.date),r.a.createElement("div",{className:"times"},r.a.createElement("p",null,"from: ",this.state.startTime,"to: "),r.a.createElement("p",null," ",this.state.endTime)),r.a.createElement("p",null,this.state.description)),this.state.owner._id===this.props.user._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{variant:"danger",onClick:this.deletePost},"Delete Post")):r.a.createElement("div",null),this.state.match?r.a.createElement("div",null,r.a.createElement("h2",null,"You are registered"),r.a.createElement("form",{onSubmit:this.handleSubmitDeRegister},r.a.createElement("button",{type:"submit"},"De-Register"))):r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit"},"Register")),r.a.createElement("div",{className:"posterContainer"},r.a.createElement("p",null,this.state.owner.username),r.a.createElement("p",null,this.state.owner.gender),r.a.createElement("p",null,this.state.owner.about)),r.a.createElement(k,Object.assign({subject:this.state.post._id,recipient:this.state.post.owner,owner:this.props.user},this.props)))}}]),t}(r.a.Component)),N=(n.Component,function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={message:null,content:""},a.handleChange=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.match.params.messageId;d.a.post("/messages/add",{id:t,content:a.state.content,subject:a.state.message._id,owner:a.state.message.owner._id,recipient:a.state.message.owner._id}).then((function(e){console.log(e),a.setState({content:""}),a.getMailboxDetail()}))},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"getMailboxDetail",value:function(){var e=this,t=this.props.match.params.messageId;console.log(t),d.a.get("/messages/detail/".concat(t)).then((function(t){console.log(t.data),e.setState({message:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getMailboxDetail()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.getMailboxDetail()}},{key:"render",value:function(){if(null===this.state.message)return r.a.createElement("div",null);var e=this.state.message.comments.map((function(e){return r.a.createElement("div",null,e.content)}));return r.a.createElement("div",{style:{marginLeft:"40%"}},r.a.createElement("p",null,this.state.message.content),r.a.createElement("p",null,"Created at: ",this.state.message.created_at),e,r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(y.a.Label,null,"Your Message"),r.a.createElement(y.a.Control,{as:"textarea",rows:"3",name:"content",onChange:this.handleChange}),r.a.createElement("button",null,"Send Message"))))}}]),t}(n.Component)),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={sentMessages:[],showDetail:!1,detailMessage:[]},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;console.log(this.props.match.params),(e=this.props.user._id,d.a.get("/messages/sent/".concat(e))).then((function(e){t.setState({sentMessages:e.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.sentMessages,a=e.receivedMessages;return console.log("tst",t,a),r.a.createElement("div",null,r.a.createElement("div",{className:"col-5",style:{maxHeight:"90vh",overflow:"scroll"}},r.a.createElement("div",null,t.map((function(e){return console.log("hiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii",e),r.a.createElement(p.b,{to:"/mailbox/detail/".concat(e._id),key:e._id,className:"list-group-item list-group-item-action"},r.a.createElement("div",null,r.a.createElement("p",null,"Title: ",e.subject.title),r.a.createElement("p",null,"From: ",e.owner.username)))}))),r.a.createElement("div",null)))}}]),t}(n.Component),M=function(e){return console.log(e.match.params),r.a.createElement(r.a.Fragment,null,r.a.createElement(_,Object.assign({user:e.user},e)),e.match.params.messageId&&r.a.createElement(N,Object.assign({user:e.user},e)))};function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user,profile:{error:"",username:"",urlPath:"https://res.cloudinary.com/mariakristiina/image/upload/v1575542831/avatar-orange_q8rkfz.png",age:"",gender:"",languages:[],about:""},editProfileForm:!1,postDetail:{title:"",date:"",startTime:"",endTime:"",postType:"",category:"",description:"",owner:"",match:"",messages:""},currentLanguage:"English",hover:!1},a.setUser=function(e){a.setState({user:e})},a.getDataProfile=function(){var e=a.state.user._id;d.a.get("/profile/".concat(e)).then((function(e){a.setState({profile:{username:e.data.username,age:e.data.age,gender:e.data.gender,languages:e.data.languages,about:e.data.about,urlPath:e.data.urlPath,language:e.data.language,siteLanguage:e.data.siteLanguage}},(function(){return console.log("state after data call",a.state)}))})).catch((function(e){404===e.response.status&&a.setState({error:e.response.data.message})}))},a.handleChangeProfile=function(e){var t=e.target,n=t.name,r=t.value;a.setState({profile:G({},a.state.profile,Object(s.a)({},n,r))})},a.toggleEditProfile=function(){console.log(a.state.editProfileForm),a.setState({editProfileForm:!a.state.editProfileForm})},a.handleSubmitProfile=function(e){e.preventDefault();var t=a.state.user._id,n=a.state.profile,r=n.username,o=n.age,l=n.gender,s=n.languages,i=n.about,c=n.urlPath;d.a.put("/profile/".concat(t),{username:r,age:o,gender:l,languages:s,about:i,urlPath:c}).then((function(e){a.setState({profile:e.data,editProfileForm:!1})})).catch((function(e){console.log(e)}))},a.imageUpload=function(e){console.log(e.target.files[0]);var t=e.target.files[0],n=new FormData;console.log(n);var r=a.state.user._id;n.append("urlPath",t),d.a.post("/profile/".concat(r),n).then((function(e){console.log(e.data.secure_url),a.setState({profile:G({},a.state.profile,{urlPath:e.data.secure_url})}),console.log(a.state.profile.urlPath)}))},a.handleChangeLanguages=function(e){a.state.user?(a.setState({currentLanguage:e.target.value}),d.a.put("/profile/language",{siteLanguage:e.target.value}).then((function(e){console.log(e.data),console.log(a.state.currentLanguage)})).catch((function(e){return e}))):a.setState({currentLanguage:e.target.value},(function(){return console.log(a.state.currentLanguage)}))},a.changeLanguageLogin=function(){a.setState({currentLanguage:a.state.user.siteLanguage})},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(v,{user:this.state.user,clearUser:this.setUser,handleChangeLanguages:this.handleChangeLanguages,currentLanguage:this.state.currentLanguage}),r.a.createElement(b.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(F,Object.assign({user:e.state.user,currentLanguage:e.state.currentLanguage,mouseOver:e.mouseOver,hover:e.state.hover},t))}}),r.a.createElement(b.a,{exact:!0,path:"/about",render:function(t){return r.a.createElement(D,Object.assign({user:e.state.user,currentLanguage:e.state.currentLanguage},t))}}),r.a.createElement(b.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(j,Object.assign({},t,{setUser:e.setUser,currentLanguage:e.state.currentLanguage,user:e.state.user,changeLanguageLogin:e.changeLanguageLogin}))}}),r.a.createElement(b.a,{exact:!0,path:"/profile/:id",render:function(t){return r.a.createElement(T,Object.assign({user:e.state.user,profile:e.state.profile,handleChangeProfile:e.handleChangeProfile,toggleEditProfile:e.toggleEditProfile,handleSubmitProfile:e.handleSubmitProfile,getDataProfile:e.getDataProfile,imageUpload:e.imageUpload,editProfileForm:e.state.editProfileForm,currentLanguage:e.state.currentLanguage},t))}}),r.a.createElement(b.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(w,Object.assign({},t,{setUser:e.setUser,currentLanguage:e.state.currentLanguage,profile:e.state.profile}))}}),r.a.createElement(b.a,{exact:!0,path:"/posts",render:function(t){return r.a.createElement(S,Object.assign({},t,{setUser:e.setUser,user:e.state.user}))}}),r.a.createElement(b.a,{exact:!0,path:"/post/:id",render:function(t){return r.a.createElement(x,Object.assign({},t,{postDetail:e.state.posts,user:e.state.user}))}}),r.a.createElement(b.a,{path:"/mailbox/:user/:messageId?",render:function(t){return r.a.createElement(M,Object.assign({user:e.state.user},t))}}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.get("/auth/loggedin").then((function(e){var t=e.data;l.a.render(r.a.createElement(p.a,null,r.a.createElement(U,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,2,3]]]);
//# sourceMappingURL=main.c4d4c0f5.chunk.js.map